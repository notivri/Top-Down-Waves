# Структура проекта Top-Down Waves

## Обзор
Код игры был разбит на модульную архитектуру для лучшей организации, читаемости и поддержки.

## Структура файлов

```
src/
├── index.js                    # Главный файл - инициализация игры
└── js/
    ├── core/                   # Ядро игры
    │   ├── config.js          # Конфигурация игры (константы, настройки)
    │   └── Game.js            # Основной игровой класс
    ├── entities/              # Игровые сущности
    │   └── Player.js          # Класс игрока
    ├── systems/               # Игровые системы
    │   ├── AudioSystem.js     # Система звуков
    │   ├── BulletSystem.js    # Система пуль
    │   ├── EnemySystem.js     # Система врагов
    │   ├── InputSystem.js     # Система управления вводом
    │   ├── PickupSystem.js    # Система подбираемых предметов
    │   └── Renderer.js        # Система рендеринга
    ├── ui/                    # Пользовательский интерфейс
    │   └── UIManager.js       # Менеджер UI
    └── utils/                 # Утилиты
        └── math.js            # Математические функции
```

## Описание модулей

### Core (Ядро)
- **config.js** - Централизованная конфигурация всех параметров игры
- **Game.js** - Основной класс, управляющий всеми системами и игровым циклом

### Entities (Сущности)
- **Player.js** - Класс игрока с логикой движения, стрельбы, бафов и здоровья

### Systems (Системы)
- **AudioSystem.js** - WebAudio звуковые эффекты
- **BulletSystem.js** - Управление пулями и столкновениями
- **EnemySystem.js** - Спавн и поведение врагов
- **InputSystem.js** - Обработка клавиатуры и мыши
- **PickupSystem.js** - Логика бафов и подбираемых предметов
- **Renderer.js** - Отрисовка всех игровых объектов

### UI
- **UIManager.js** - Управление интерфейсом, кнопками и HUD

### Utils (Утилиты)
- **math.js** - Вспомогательные математические функции

## Преимущества новой архитектуры

1. **Модульность** - Каждая система изолирована и может быть изменена независимо
2. **Читаемость** - Код легче понимать и находить нужную логику
3. **Повторное использование** - Системы можно переиспользовать в других проектах
4. **Тестирование** - Каждый модуль можно тестировать отдельно
5. **Расширяемость** - Легко добавлять новые функции и системы
6. **Отладка** - Проще найти и исправить ошибки

## Связи между модулями

- `Game.js` является центральным координатором всех систем
- Системы общаются через четко определенные интерфейсы
- Конфигурация централизована в `config.js`
- UI отделен от игровой логики

## Как добавить новую функциональность

1. **Новая система** - Создать класс в папке `systems/`
2. **Новая сущность** - Добавить в папку `entities/`
3. **Настройки** - Добавить в `config.js`
4. **UI элементы** - Расширить `UIManager.js`
5. **Утилиты** - Добавить в соответствующий файл в `utils/`

Все изменения должны быть интегрированы через `Game.js` для правильной работы системы.
